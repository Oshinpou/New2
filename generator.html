<!DOCTYPE html>
<html>
<head>
  <title>Page Generator</title>
  <script src="pages-data.js"></script>
</head>
<body>
  <h2>Create Softcoded Page</h2>
  <input placeholder="Page ID (e.g., imacx-softskin)" id="pageId"><br>
  <input placeholder="Title" id="title"><br>
  <input placeholder="Description" id="description"><br>
  <input placeholder="Price" id="price" type="number"><br>
  <input placeholder="Image URL" id="image"><br>
  <button onclick="generate()">Generate Page</button>

  <h3>Generated Pages:</h3>
  <ul id="pagesList"></ul>

  <script>
    const list = document.getElementById('pagesList');
    function updateList() {
      list.innerHTML = "";
      for (const id in pagesData) {
        const link = `view.html?page=${id}`;
        list.innerHTML += `<li><a href="${link}" target="_blank">${id}</a>
          <button onclick="deletePage('${id}')">Delete</button></li>`;
      }
    }

    function generate() {
      const id = document.getElementById('pageId').value.trim();
      if (!id) return alert("Page ID is required");
      pagesData[id] = {
        title: document.getElementById('title').value,
        description: document.getElementById('description').value,
        price: +document.getElementById('price').value,
        image: document.getElementById('image').value
      };
      updateList();
    }

    function deletePage(id) {
      delete pagesData[id];
      updateList();
    }

    updateList();
  </script>
</body>
</html>
