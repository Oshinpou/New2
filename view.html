<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Product View</title>
  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
</head>
<body>
  <h2>Product Details</h2>
  <p><strong>Name:</strong> <span id="name">Loading...</span></p>
  <p><strong>Price:</strong> <span id="price">Loading...</span></p>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");

    const gun = Gun(['https://gun-manhattan.herokuapp.com/gun']);
    const db = gun.get("imacx-products");

    if (id) {
      db.get(id).once(data => {
        if (data) {
          document.getElementById("name").textContent = data.name || "Not found";
          document.getElementById("price").textContent = data.price || "Not found";
        } else {
          document.getElementById("name").textContent = "No data";
          document.getElementById("price").textContent = "No data";
        }
      });
    } else {
      document.getElementById("name").textContent = "No ID";
      document.getElementById("price").textContent = "No ID";
    }
  </script>
</body>
</html>
