<!DOCTYPE html>
<html>
<head>
  <title>Digital Page Viewer</title>
  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
</head>
<body>
  <h2 id="pageTitle">Loading...</h2>
  <p id="pageContent"></p>
  <button onclick="deletePage()">❌ Delete This Page</button>
  <p id="status"></p>

  <script>
    const gun = Gun();
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    if (!id) {
      document.getElementById("pageTitle").innerText = "No ID provided.";
    } else {
      gun.get("pages").get(id).once(data => {
        if (!data || !data.title) {
          document.getElementById("pageTitle").innerText = "This page was deleted or doesn't exist.";
        } else {
          document.getElementById("pageTitle").innerText = data.title;
          document.getElementById("pageContent").innerText = data.content;
        }
      });
    }

    function deletePage() {
      gun.get("pages").get(id).put(null);
      document.getElementById("status").innerText = "✅ Page deleted.";
      document.getElementById("pageTitle").innerText = "";
      document.getElementById("pageContent").innerText = "";
    }
  </script>
</body>
</html>
