<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Digital Page</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
</head>
<body class="bg-white text-gray-800 font-sans p-6">
  <div class="max-w-2xl mx-auto text-center mt-16">
    <h1 id="name" class="text-4xl font-bold mb-4">Loading...</h1>
    <h2 id="price" class="text-2xl text-green-600 mb-4"></h2>
    <p id="description" class="text-lg text-gray-700"></p>
  </div>

  <script>
    const gun = Gun();
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    if (!id) {
      document.getElementById('name').textContent = "Page ID not found!";
      throw new Error("Missing ID");
    }

    gun.get('pages').get(id).once(data => {
      if (!data) {
        document.getElementById('name').textContent = "Page not found!";
        return;
      }
      document.getElementById('name').textContent = data.name;
      document.getElementById('price').textContent = "â‚¹" + data.price;
      document.getElementById('description').textContent = data.description;
    });
  </script>
</body>
</html>
