<!-- âœ… Basket Page (basket.html) --><!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>imacx - Basket</title>
  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
</head>
<body>
  <h2>ðŸ›’ Basket</h2>
  <!-- Your basket rendering logic here --><button onclick="storeOrder()">Save Order</button>

  <script>
    const gun = Gun(['https://gun-manhattan.herokuapp.com/gun']);
    const orders = gun.get('imacx_orders');

    function getBasket() {
      return JSON.parse(localStorage.getItem('basket')) || [];
    }

    function storeOrder() {
      const basket = getBasket();
      const orderId = 'IMX' + Math.random().toString(36).substr(2, 9).toUpperCase();
      const shipping = {
        recipient: 'Test User',
        email: 'test@example.com',
        phone: '+911234567890',
        address: 'Somewhere in India'
      };

      const total = basket.reduce((sum, item) => sum + item.quantity * item.price, 0);

      const newOrder = {
        orderId,
        basket,
        shipping,
        total,
        status: 'Order Created',
        timestamp: Date.now()
      };

      orders.get(orderId).put(newOrder);
      orders.set(newOrder);

      alert("âœ… Order saved");
    }
  </script></body>
</html><!-- âœ… Admin Page (admin.html) --><!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>imacx - Admin</title>
  <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
  <style>
    body { font-family: sans-serif; }
    .order { border: 1px solid #ccc; padding: 10px; margin: 10px; }
  </style>
</head>
<body>
  <h1>ðŸ“¦ All Global Orders</h1>
  <div id="ordersContainer">Loading...</div>  <script>
    const gun = Gun(['https://gun-manhattan.herokuapp.com/gun']);
    const orders = gun.get('imacx_orders');
    const container = document.getElementById('ordersContainer');

    orders.map().once(order => {
      if (!order || !order.orderId) return;

      const div = document.createElement('div');
      div.className = 'order';
      div.innerHTML = `
        <b>Order ID:</b> ${order.orderId}<br>
        <b>Recipient:</b> ${order.shipping.recipient}<br>
        <b>Email:</b> ${order.shipping.email}<br>
        <b>Phone:</b> ${order.shipping.phone}<br>
        <b>Address:</b> ${order.shipping.address}<br>
        <b>Total:</b> â‚¹${order.total}<br>
        <b>Status:</b> ${order.status}<br>
        <button onclick="updateStatus('${order.orderId}', 'Shipped')">Mark Shipped</button>
        <button onclick="deleteOrder('${order.orderId}', this.parentElement)">Delete</button>
        <hr>
      `;
      container.appendChild(div);
    });

    function updateStatus(orderId, newStatus) {
      orders.get(orderId).get('status').put(newStatus);
      alert("âœ… Status updated");
    }

    function deleteOrder(orderId, element) {
      if (confirm("Delete this order?")) {
        orders.get(orderId).put(null);
        element.remove();
      }
    }
  </script></body>
</html>
